"use strict";!function(){function t(e,t){return e.value===t}function o(e){return e.focus()}function l(e,t){[].forEach.call(e,t)}var n,e,a=document.querySelector(".main-nav__callback"),c=document.querySelector(".modal"),s=document.querySelector(".modal__layout"),r=document.querySelector(".modal__close"),d=document.getElementsByClassName("form"),i=document.getElementsByClassName("accordion__toggle"),u=document.getElementsByClassName("accordion__menu"),m=document.getElementsByTagName("body");if(d){var g=document.querySelectorAll("[name=name]"),f=document.querySelectorAll("[name=tel]"),v=document.querySelectorAll("[name=question]"),y=!0,h="",w="";try{h=localStorage.getItem("login"),w=localStorage.getItem("tel")}catch(e){y=!1}for(n=0;n<d.length;n++)d[n].addEventListener("submit",function(e){e.preventDefault(),y&&(localStorage.setItem("login",g[n].value),localStorage.setItem("tel",f[n].value),localStorage.setItem("message",v[n].value))});a&&(a.addEventListener("click",function(e){e.preventDefault(),c.classList.add("modal--show"),m[0].style.overflow="hidden",h||w?(l(g,t(this,h)),l(f,t(this,w)),l(f,o)):l(g,o)}),a.addEventListener("keydown",function(e){e.preventDefault(),13===e.keyCode&&(m[0].style.overflow="hidden",c.classList.add("modal--show"))})),r&&(r.addEventListener("click",function(e){e.preventDefault(),c.classList.remove("modal--show"),m[0].style.overflow="auto"}),r.addEventListener("keydown",function(e){e.preventDefault(),13===e.keyCode&&(c.classList.remove("modal--show"),m[0].style.overflow="auto")})),s&&s.addEventListener("click",function(e){e.preventDefault(),c.classList.remove("modal--show"),m[0].style.overflow="auto"})}for(c&&window.addEventListener("keydown",function(e){27===e.keyCode&&(c.classList.remove("modal--show"),m[0].style.overflow="auto")}),e=0;e<i.length;e++){i&&u&&i.length===u.length&&i[e].addEventListener("click",function(){l(i,function(e){e.classList.toggle("accordion__toggle--active",!1),e.classList.toggle("accordion__toggle--show",!1)}),this.classList.toggle("accordion__toggle--active"),this.classList.toggle("accordion__toggle--show")})}jQuery(function(e){e(f).mask("+7(999) 999-9999")});new SmoothScroll('a[href*="#"]',{speed:300})}();